{"version":3,"sources":["webpack://@flarum/tags/webpack/bootstrap","webpack://@flarum/tags/./admin.js","webpack://@flarum/tags/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@flarum/tags/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flarum/tags/./node_modules/html5sortable/dist/html5sortable.es.js","webpack://@flarum/tags/./src/admin/addTagChangePermission.js","webpack://@flarum/tags/./src/admin/addTagPermission.js","webpack://@flarum/tags/./src/admin/addTagsHomePageOption.js","webpack://@flarum/tags/./src/admin/addTagsPane.js","webpack://@flarum/tags/./src/admin/addTagsPermissionScope.js","webpack://@flarum/tags/./src/admin/compat.js","webpack://@flarum/tags/./src/admin/components/EditTagModal.js","webpack://@flarum/tags/./src/admin/components/TagSettingsModal.js","webpack://@flarum/tags/./src/admin/components/TagsPage.js","webpack://@flarum/tags/./src/admin/index.js","webpack://@flarum/tags/./src/common/compat.js","webpack://@flarum/tags/./src/common/helpers/tagIcon.js","webpack://@flarum/tags/./src/common/helpers/tagLabel.js","webpack://@flarum/tags/./src/common/helpers/tagsLabel.js","webpack://@flarum/tags/./src/common/models/Tag.js","webpack://@flarum/tags/./src/common/utils/sortTags.js","webpack://@flarum/tags/external \"flarum.core\"","webpack://@flarum/tags/external \"flarum.core.compat['Model']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/AdminNav']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/BasicsPage']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Button']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Dropdown']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Modal']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/Page']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/PermissionDropdown']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/SettingDropdown']\"","webpack://@flarum/tags/external \"flarum.core.compat['components/SettingsModal']\"","webpack://@flarum/tags/external \"flarum.core.compat['extend']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/ItemList']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/computed']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/extract']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/mixin']\"","webpack://@flarum/tags/external \"flarum.core.compat['utils/string']\""],"names":["extend","PermissionGrid","prototype","items","add","icon","label","app","translator","trans","setting","minutes","parseInt","data","settings","allow_tag_change","SettingDropdown","component","defaultLabel","transChoice","count","key","options","value","permission","BasicsPage","path","routes","tags","TagsPage","extensionSettings","m","route","AdminNav","AdminLinkButton","href","children","description","override","original","tagPrefix","match","globalPermission","substr","length","required","map","sortTags","store","all","filter","tag","isRestricted","forEach","id","tagLabel","onremove","save","render","item","indexOf","PermissionDropdown","allowGuest","Dropdown","className","buttonClassName","caretIcon","Button","tagIcon","name","onclick","compat","addTagsHomePageOption","addTagChangePermission","addTagsPane","TagSettingsModal","EditTagModal","addTagPermission","addTagsPermissionScope","init","props","createRecord","prop","slug","color","isHidden","title","content","fields","toArray","ItemList","e","target","withAttr","a","type","loading","exists","delete","bind","submitData","onsubmit","preventDefault","then","hide","response","handleErrors","confirm","parent","pushData","attributes","isChild","relationships","redraw","Modal","setMinTags","minTags","maxTags","Math","max","form","minPrimaryTags","maxPrimaryTags","minSecondaryTags","maxSecondaryTags","SettingsModal","tagItem","modal","show","position","child","view","sort","b","localeCompare","config","sortable","$","acceptFrom","onSortUpdate","el","addEventListener","detail","origin","container","HTMLOListElement","destination","HTMLUListElement","getById","getAttribute","order","find","get","i","j","request","url","forum","attribute","method","strategy","Page","initializers","models","Tag","tagsCompat","tagsLabel","attrs","hasIcon","useColor","style","backgroundColor","link","extract","tagText","push","mixin","Model","backgroundUrl","backgroundMode","hasOne","defaultSort","discussionCount","lastPostedAt","transformDate","lastPostedDiscussion","canStartDiscussion","canAddToDiscussion","isPrimary","computed","slice","aPos","bPos","aParent","bParent"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;AASA;;;;;;;;;;;;;ACTA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChBA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACJA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,8BAA8B;AACzC,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,sDAAsD,EAAE;AAC7G,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA,iCAAiC;AACjC,sCAAsC;AACtC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,IAAI;AACnB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,WAAW,kBAAkB;AAC7B,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,+BAA+B;AAC1C,WAAW,OAAO;AAClB;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,+BAA+B;AAC1C,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,kBAAkB;AAC7B,WAAW,OAAO;AAClB;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB;AACA,+CAA+C,8CAA8C;AAC7F;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB;AACA,8CAA8C,6CAA6C;;AAE3F;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA,0CAA0C,sEAAsE,uBAAuB,GAAG;AAC1I,+CAA+C,6DAA6D,4BAA4B,GAAG;AAC3I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,sDAAsD,EAAE;AAC5G;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,iBAAiB;AAC5B,WAAW,OAAO;AAClB;AACA;AACA;AACA,sCAAsC,2CAA2C;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uCAAuC,oBAAoB,EAAE;AAC7D,CAAC;;AAED;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA,WAAW,MAAM;AACjB,aAAa;AACb;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,YAAY;AACvB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,+BAA+B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA,wDAAwD,sBAAsB,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,eAAe;AAC1B,WAAW,cAAc;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,oDAAoD,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sFAAsF,yBAAyB,EAAE;AACjH,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gDAAgD,2CAA2C,EAAE;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA,yCAAyC,6BAA6B,EAAE;AACxE;AACA;AACA,yCAAyC,6BAA6B,EAAE;AACxE;AACA,yCAAyC,6BAA6B,EAAE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,uCAAuC,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,6CAA6C,uCAAuC,EAAE;AACtF;AACA;AACA,iBAAiB;AACjB;AACA;AACA,6DAA6D,yBAAyB,EAAE;AACxF;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","/*\n * This file is part of Flarum.\n *\n * (c) Toby Zerner <toby.zerner@gmail.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport * from './src/common';\nexport * from './src/admin';\n","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","/*\n * HTML5Sortable package\n * https://github.com/lukasoppermann/html5sortable\n *\n * Maintained by Lukas Oppermann <lukas@vea.re>\n *\n * Released under the MIT license.\n */\n/**\n * Get or set data on element\n * @param {HTMLElement} element\n * @param {string} key\n * @param {any} value\n * @return {*}\n */\nfunction addData(element, key, value) {\n    if (value === undefined) {\n        return element && element.h5s && element.h5s.data && element.h5s.data[key];\n    }\n    else {\n        element.h5s = element.h5s || {};\n        element.h5s.data = element.h5s.data || {};\n        element.h5s.data[key] = value;\n    }\n}\n/**\n * Remove data from element\n * @param {HTMLElement} element\n */\nfunction removeData(element) {\n    if (element.h5s) {\n        delete element.h5s.data;\n    }\n}\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {NodeList|HTMLCollection|Array} nodes\n * @param {String} selector\n * @returns {Array}\n */\nvar _filter = (function (nodes, selector) {\n    if (!(nodes instanceof NodeList || nodes instanceof HTMLCollection || nodes instanceof Array)) {\n        throw new Error('You must provide a nodeList/HTMLCollection/Array of elements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return Array.from(nodes);\n    }\n    return Array.from(nodes).filter(function (item) { return item.nodeType === 1 && item.matches(selector); });\n});\n\n/* eslint-env browser */\nvar stores = new Map();\n/**\n * Stores data & configurations per Sortable\n * @param {Object} config\n */\nvar Store = /** @class */ (function () {\n    function Store() {\n        this._config = new Map(); // eslint-disable-line no-undef\n        this._placeholder = undefined; // eslint-disable-line no-undef\n        this._data = new Map(); // eslint-disable-line no-undef\n    }\n    Object.defineProperty(Store.prototype, \"config\", {\n        /**\n         * get the configuration map of a class instance\n         * @method config\n         * @return {object}\n         */\n        get: function () {\n            // transform Map to object\n            var config = {};\n            this._config.forEach(function (value, key) {\n                config[key] = value;\n            });\n            // return object\n            return config;\n        },\n        /**\n         * set the configuration of a class instance\n         * @method config\n         * @param {object} config object of configurations\n         */\n        set: function (config) {\n            if (typeof config !== 'object') {\n                throw new Error('You must provide a valid configuration object to the config setter.');\n            }\n            // combine config with default\n            var mergedConfig = Object.assign({}, config);\n            // add config to map\n            this._config = new Map(Object.entries(mergedConfig));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * set individual configuration of a class instance\n     * @method setConfig\n     * @param  key valid configuration key\n     * @param  value any value\n     * @return void\n     */\n    Store.prototype.setConfig = function (key, value) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Trying to set invalid configuration item: \" + key);\n        }\n        // set config\n        this._config.set(key, value);\n    };\n    /**\n     * get an individual configuration of a class instance\n     * @method getConfig\n     * @param  key valid configuration key\n     * @return any configuration value\n     */\n    Store.prototype.getConfig = function (key) {\n        if (!this._config.has(key)) {\n            throw new Error(\"Invalid configuration item requested: \" + key);\n        }\n        return this._config.get(key);\n    };\n    Object.defineProperty(Store.prototype, \"placeholder\", {\n        /**\n         * get the placeholder for a class instance\n         * @method placeholder\n         * @return {HTMLElement|null}\n         */\n        get: function () {\n            return this._placeholder;\n        },\n        /**\n         * set the placeholder for a class instance\n         * @method placeholder\n         * @param {HTMLElement} placeholder\n         * @return {void}\n         */\n        set: function (placeholder) {\n            if (!(placeholder instanceof HTMLElement) && placeholder !== null) {\n                throw new Error('A placeholder must be an html element or null.');\n            }\n            this._placeholder = placeholder;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * set an data entry\n     * @method setData\n     * @param {string} key\n     * @param {any} value\n     * @return {void}\n     */\n    Store.prototype.setData = function (key, value) {\n        if (typeof key !== 'string') {\n            throw new Error(\"The key must be a string.\");\n        }\n        this._data.set(key, value);\n    };\n    /**\n     * get an data entry\n     * @method getData\n     * @param {string} key an existing key\n     * @return {any}\n     */\n    Store.prototype.getData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error(\"The key must be a string.\");\n        }\n        return this._data.get(key);\n    };\n    /**\n     * delete an data entry\n     * @method deleteData\n     * @param {string} key an existing key\n     * @return {boolean}\n     */\n    Store.prototype.deleteData = function (key) {\n        if (typeof key !== 'string') {\n            throw new Error(\"The key must be a string.\");\n        }\n        return this._data.delete(key);\n    };\n    return Store;\n}());\n/**\n * @param {HTMLElement} sortableElement\n * @returns {Class: Store}\n */\nvar store = (function (sortableElement) {\n    // if sortableElement is wrong type\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('Please provide a sortable to the store function.');\n    }\n    // create new instance if not avilable\n    if (!stores.has(sortableElement)) {\n        stores.set(sortableElement, new Store());\n    }\n    // return instance\n    return stores.get(sortableElement);\n});\n\n/**\n * @param {Array|HTMLElement} element\n * @param {Function} callback\n * @param {string} event\n */\nfunction addEventListener(element, eventName, callback) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addEventListener(element[i], eventName, callback);\n        }\n        return;\n    }\n    element.addEventListener(eventName, callback);\n    store(element).setData(\"event\" + eventName, callback);\n}\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} eventName\n */\nfunction removeEventListener(element, eventName) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeEventListener(element[i], eventName);\n        }\n        return;\n    }\n    element.removeEventListener(eventName, store(element).getData(\"event\" + eventName));\n    store(element).deleteData(\"event\" + eventName);\n}\n\n/**\n * @param {Array<HTMLElement>|HTMLElement} element\n * @param {string} attribute\n * @param {string} value\n */\nfunction addAttribute(element, attribute, value) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            addAttribute(element[i], attribute, value);\n        }\n        return;\n    }\n    element.setAttribute(attribute, value);\n}\n/**\n * @param {Array|HTMLElement} element\n * @param {string} attribute\n */\nfunction removeAttribute(element, attribute) {\n    if (element instanceof Array) {\n        for (var i = 0; i < element.length; ++i) {\n            removeAttribute(element[i], attribute);\n        }\n        return;\n    }\n    element.removeAttribute(attribute);\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {Object}\n */\nvar _offset = (function (element) {\n    if (!element.parentElement || element.getClientRects().length === 0) {\n        throw new Error('target element must be part of the dom');\n    }\n    var rect = element.getClientRects()[0];\n    return {\n        left: rect.left + window.pageXOffset,\n        right: rect.right + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        bottom: rect.bottom + window.pageYOffset\n    };\n});\n\n/**\n * Creates and returns a new debounced version of the passed function which will postpone its execution until after wait milliseconds have elapsed\n * @param {Function} func to debounce\n * @param {number} time to wait before calling function with latest arguments, 0 - no debounce\n * @returns {function} - debounced function\n */\nvar _debounce = (function (func, wait) {\n    if (wait === void 0) { wait = 0; }\n    var timeout;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            func.apply(void 0, args);\n        }, wait);\n    };\n});\n\n/* eslint-env browser */\n/**\n * Get position of the element relatively to its sibling elements\n * @param {HTMLElement} element\n * @returns {number}\n */\nvar _index = (function (element, elementList) {\n    if (!(element instanceof HTMLElement) || !(elementList instanceof NodeList || elementList instanceof HTMLCollection || elementList instanceof Array)) {\n        throw new Error('You must provide an element and a list of elements.');\n    }\n    return Array.from(elementList).indexOf(element);\n});\n\n/* eslint-env browser */\n/**\n * Test whether element is in DOM\n * @param {HTMLElement} element\n * @returns {boolean}\n */\nvar isInDom = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('Element is not a node element.');\n    }\n    return element.parentNode !== null;\n});\n\n/* eslint-env browser */\n/**\n * Insert node before or after target\n * @param {HTMLElement} referenceNode - reference element\n * @param {HTMLElement} newElement - element to be inserted\n * @param {String} position - insert before or after reference element\n */\nvar insertNode = function (referenceNode, newElement, position) {\n    if (!(referenceNode instanceof HTMLElement) || !(referenceNode.parentElement instanceof HTMLElement)) {\n        throw new Error('target and element must be a node');\n    }\n    referenceNode.parentElement.insertBefore(newElement, (position === 'before' ? referenceNode : referenceNode.nextElementSibling));\n};\n/**\n * Insert before target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertBefore = function (target, element) { return insertNode(target, element, 'before'); };\n/**\n * Insert after target\n * @param {HTMLElement} target\n * @param {HTMLElement} element\n */\nvar insertAfter = function (target, element) { return insertNode(target, element, 'after'); };\n\n/* eslint-env browser */\n/**\n * Filter only wanted nodes\n * @param {HTMLElement} sortableContainer\n * @param {Function} customSerializer\n * @returns {Array}\n */\nvar _serialize = (function (sortableContainer, customItemSerializer, customContainerSerializer) {\n    if (customItemSerializer === void 0) { customItemSerializer = function (serializedItem, sortableContainer) { return serializedItem; }; }\n    if (customContainerSerializer === void 0) { customContainerSerializer = function (serializedContainer) { return serializedContainer; }; }\n    // check for valid sortableContainer\n    if (!(sortableContainer instanceof HTMLElement) || !sortableContainer.isSortable === true) {\n        throw new Error('You need to provide a sortableContainer to be serialized.');\n    }\n    // check for valid serializers\n    if (typeof customItemSerializer !== 'function' || typeof customContainerSerializer !== 'function') {\n        throw new Error('You need to provide a valid serializer for items and the container.');\n    }\n    // get options\n    var options = addData(sortableContainer, 'opts');\n    var item = options.items;\n    // serialize container\n    var items = _filter(sortableContainer.children, item);\n    var serializedItems = items.map(function (item) {\n        return {\n            parent: sortableContainer,\n            node: item,\n            html: item.outerHTML,\n            index: _index(item, items)\n        };\n    });\n    // serialize container\n    var container = {\n        node: sortableContainer,\n        itemCount: serializedItems.length\n    };\n    return {\n        container: customContainerSerializer(container),\n        items: serializedItems.map(function (item) { return customItemSerializer(item, sortableContainer); })\n    };\n});\n\n/* eslint-env browser */\n/**\n * create a placeholder element\n * @param {HTMLElement} sortableElement a single sortable\n * @param {string|undefined} placeholder a string representing an html element\n * @param {string} placeholderClasses a string representing the classes that should be added to the placeholder\n */\nvar _makePlaceholder = (function (sortableElement, placeholder, placeholderClass) {\n    var _a;\n    if (placeholderClass === void 0) { placeholderClass = 'sortable-placeholder'; }\n    if (!(sortableElement instanceof HTMLElement)) {\n        throw new Error('You must provide a valid element as a sortable.');\n    }\n    // if placeholder is not an element\n    if (!(placeholder instanceof HTMLElement) && placeholder !== undefined) {\n        throw new Error('You must provide a valid element as a placeholder or set ot to undefined.');\n    }\n    // if no placeholder element is given\n    if (placeholder === undefined) {\n        if (['UL', 'OL'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('li');\n        }\n        else if (['TABLE', 'TBODY'].includes(sortableElement.tagName)) {\n            placeholder = document.createElement('tr');\n            // set colspan to always all rows, otherwise the item can only be dropped in first column\n            placeholder.innerHTML = '<td colspan=\"100\"></td>';\n        }\n        else {\n            placeholder = document.createElement('div');\n        }\n    }\n    // add classes to placeholder\n    if (typeof placeholderClass === 'string') {\n        (_a = placeholder.classList).add.apply(_a, placeholderClass.split(' '));\n    }\n    return placeholder;\n});\n\n/* eslint-env browser */\n/**\n * Get height of an element including padding\n * @param {HTMLElement} element an dom element\n */\nvar _getElementHeight = (function (element) {\n    if (!(element instanceof HTMLElement)) {\n        throw new Error('You must provide a valid dom element');\n    }\n    // get calculated style of element\n    var style = window.getComputedStyle(element);\n    // pick applicable properties, convert to int and reduce by adding\n    return ['height', 'padding-top', 'padding-bottom']\n        .map(function (key) {\n        var int = parseInt(style.getPropertyValue(key), 10);\n        return isNaN(int) ? 0 : int;\n    })\n        .reduce(function (sum, value) { return sum + value; });\n});\n\n/* eslint-env browser */\n/**\n * get handle or return item\n * @param {Array<HTMLElement>} items\n * @param {string} selector\n */\nvar _getHandles = (function (items, selector) {\n    if (!(items instanceof Array)) {\n        throw new Error('You must provide a Array of HTMLElements to be filtered.');\n    }\n    if (typeof selector !== 'string') {\n        return items;\n    }\n    return items\n        // remove items without handle from array\n        .filter(function (item) {\n        return item.querySelector(selector) instanceof HTMLElement ||\n            (item.shadowRoot && item.shadowRoot.querySelector(selector) instanceof HTMLElement);\n    })\n        // replace item with handle in array\n        .map(function (item) {\n        return item.querySelector(selector) || (item.shadowRoot && item.shadowRoot.querySelector(selector));\n    });\n});\n\n/**\n * @param {Event} event\n * @returns {HTMLElement}\n */\nvar getEventTarget = (function (event) {\n    return (event.composedPath && event.composedPath()[0]) || event.target;\n});\n\n/* eslint-env browser */\n/**\n * defaultDragImage returns the current item as dragged image\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {object} elementOffset - an object with the offsets top, left, right & bottom\n * @param {Event} event - the original drag event object\n * @return {object} with element, posX and posY properties\n */\nvar defaultDragImage = function (draggedElement, elementOffset, event) {\n    return {\n        element: draggedElement,\n        posX: event.pageX - elementOffset.left,\n        posY: event.pageY - elementOffset.top\n    };\n};\n/**\n * attaches an element as the drag image to an event\n * @param {Event} event - the original drag event object\n * @param {HTMLElement} draggedElement - the item that the user drags\n * @param {Function} customDragImage - function to create a custom dragImage\n * @return void\n */\nvar setDragImage = (function (event, draggedElement, customDragImage) {\n    // check if event is provided\n    if (!(event instanceof Event)) {\n        throw new Error('setDragImage requires a DragEvent as the first argument.');\n    }\n    // check if draggedElement is provided\n    if (!(draggedElement instanceof HTMLElement)) {\n        throw new Error('setDragImage requires the dragged element as the second argument.');\n    }\n    // set default function of none provided\n    if (!customDragImage) {\n        customDragImage = defaultDragImage;\n    }\n    // check if setDragImage method is available\n    if (event.dataTransfer && event.dataTransfer.setDragImage) {\n        // get the elements offset\n        var elementOffset = _offset(draggedElement);\n        // get the dragImage\n        var dragImage = customDragImage(draggedElement, elementOffset, event);\n        // check if custom function returns correct values\n        if (!(dragImage.element instanceof HTMLElement) || typeof dragImage.posX !== 'number' || typeof dragImage.posY !== 'number') {\n            throw new Error('The customDragImage function you provided must return and object with the properties element[string], posX[integer], posY[integer].');\n        }\n        // needs to be set for HTML5 drag & drop to work\n        event.dataTransfer.effectAllowed = 'copyMove';\n        // Firefox requires it to use the event target's id for the data\n        event.dataTransfer.setData('text/plain', getEventTarget(event).id);\n        // set the drag image on the event\n        event.dataTransfer.setDragImage(dragImage.element, dragImage.posX, dragImage.posY);\n    }\n});\n\n/**\n * Check if curList accepts items from destList\n * @param {sortable} destination the container an item is move to\n * @param {sortable} origin the container an item comes from\n */\nvar _listsConnected = (function (destination, origin) {\n    // check if valid sortable\n    if (destination.isSortable === true) {\n        var acceptFrom = store(destination).getConfig('acceptFrom');\n        // check if acceptFrom is valid\n        if (acceptFrom !== null && acceptFrom !== false && typeof acceptFrom !== 'string') {\n            throw new Error('HTML5Sortable: Wrong argument, \"acceptFrom\" must be \"null\", \"false\", or a valid selector string.');\n        }\n        if (acceptFrom !== null) {\n            return acceptFrom !== false && acceptFrom.split(',').filter(function (sel) {\n                return sel.length > 0 && origin.matches(sel);\n            }).length > 0;\n        }\n        // drop in same list\n        if (destination === origin) {\n            return true;\n        }\n        // check if lists are connected with connectWith\n        if (store(destination).getConfig('connectWith') !== undefined && store(destination).getConfig('connectWith') !== null) {\n            return store(destination).getConfig('connectWith') === store(origin).getConfig('connectWith');\n        }\n    }\n    return false;\n});\n\n/**\n * default configurations\n */\nvar defaultConfiguration = {\n    items: null,\n    // deprecated\n    connectWith: null,\n    // deprecated\n    disableIEFix: null,\n    acceptFrom: null,\n    copy: false,\n    placeholder: null,\n    placeholderClass: 'sortable-placeholder',\n    draggingClass: 'sortable-dragging',\n    hoverClass: false,\n    debounce: 0,\n    throttleTime: 100,\n    maxItems: 0,\n    itemSerializer: undefined,\n    containerSerializer: undefined,\n    customDragImage: null\n};\n\n/**\n * make sure a function is only called once within the given amount of time\n * @param {Function} fn the function to throttle\n * @param {number} threshold time limit for throttling\n */\n// must use function to keep this context\nfunction _throttle (fn, threshold) {\n    var _this = this;\n    if (threshold === void 0) { threshold = 250; }\n    // check function\n    if (typeof fn !== 'function') {\n        throw new Error('You must provide a function as the first argument for throttle.');\n    }\n    // check threshold\n    if (typeof threshold !== 'number') {\n        throw new Error('You must provide a number as the second argument for throttle.');\n    }\n    var lastEventTimestamp = null;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var now = Date.now();\n        if (lastEventTimestamp === null || now - lastEventTimestamp >= threshold) {\n            lastEventTimestamp = now;\n            fn.apply(_this, args);\n        }\n    };\n}\n\n/* eslint-env browser */\n/**\n * enable or disable hoverClass on mouseenter/leave if container Items\n * @param {sortable} sortableContainer a valid sortableContainer\n * @param {boolean} enable enable or disable event\n */\n// export default (sortableContainer: sortable, enable: boolean) => {\nvar enableHoverClass = (function (sortableContainer, enable) {\n    if (typeof store(sortableContainer).getConfig('hoverClass') === 'string') {\n        var hoverClasses_1 = store(sortableContainer).getConfig('hoverClass').split(' ');\n        // add class on hover\n        if (enable === true) {\n            addEventListener(sortableContainer, 'mousemove', _throttle(function (event) {\n                // check of no mouse button was pressed when mousemove started == no drag\n                if (event.buttons === 0) {\n                    _filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                        var _a, _b;\n                        if (item !== event.target) {\n                            (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                        }\n                        else {\n                            (_b = item.classList).add.apply(_b, hoverClasses_1);\n                        }\n                    });\n                }\n            }, store(sortableContainer).getConfig('throttleTime')));\n            // remove class on leave\n            addEventListener(sortableContainer, 'mouseleave', function () {\n                _filter(sortableContainer.children, store(sortableContainer).getConfig('items')).forEach(function (item) {\n                    var _a;\n                    (_a = item.classList).remove.apply(_a, hoverClasses_1);\n                });\n            });\n            // remove events\n        }\n        else {\n            removeEventListener(sortableContainer, 'mousemove');\n            removeEventListener(sortableContainer, 'mouseleave');\n        }\n    }\n});\n\n/* eslint-env browser */\n/*\n * variables global to the plugin\n */\nvar dragging;\nvar draggingHeight;\n/*\n * Keeps track of the initialy selected list, where 'dragstart' event was triggered\n * It allows us to move the data in between individual Sortable List instances\n */\n// Origin List - data from before any item was changed\nvar originContainer;\nvar originIndex;\nvar originElementIndex;\nvar originItemsBeforeUpdate;\n// Previous Sortable Container - we dispatch as sortenter event when a\n// dragged item enters a sortableContainer for the first time\nvar previousContainer;\n// Destination List - data from before any item was changed\nvar destinationItemsBeforeUpdate;\n/**\n * remove event handlers from items\n * @param {Array|NodeList} items\n */\nvar _removeItemEvents = function (items) {\n    removeEventListener(items, 'dragstart');\n    removeEventListener(items, 'dragend');\n    removeEventListener(items, 'dragover');\n    removeEventListener(items, 'dragenter');\n    removeEventListener(items, 'drop');\n    removeEventListener(items, 'mouseenter');\n    removeEventListener(items, 'mouseleave');\n};\n/**\n * _getDragging returns the current element to drag or\n * a copy of the element.\n * Is Copy Active for sortable\n * @param {HTMLElement} draggedItem - the item that the user drags\n * @param {HTMLElement} sortable a single sortable\n */\nvar _getDragging = function (draggedItem, sortable) {\n    var ditem = draggedItem;\n    if (store(sortable).getConfig('copy') === true) {\n        ditem = draggedItem.cloneNode(true);\n        addAttribute(ditem, 'aria-copied', 'true');\n        draggedItem.parentElement.appendChild(ditem);\n        ditem.style.display = 'none';\n        ditem.oldDisplay = draggedItem.style.display;\n    }\n    return ditem;\n};\n/**\n * Remove data from sortable\n * @param {HTMLElement} sortable a single sortable\n */\nvar _removeSortableData = function (sortable) {\n    removeData(sortable);\n    removeAttribute(sortable, 'aria-dropeffect');\n};\n/**\n * Remove data from items\n * @param {Array<HTMLElement>|HTMLElement} items\n */\nvar _removeItemData = function (items) {\n    removeAttribute(items, 'aria-grabbed');\n    removeAttribute(items, 'aria-copied');\n    removeAttribute(items, 'draggable');\n    removeAttribute(items, 'role');\n};\n/**\n * find sortable from element. travels up parent element until found or null.\n * @param {HTMLElement} element a single sortable\n * @param {Event} event - the current event. We need to pass it to be able to\n * find Sortable whith shadowRoot (document fragment has no parent)\n */\nfunction findSortable(element, event) {\n    if (event.composedPath) {\n        return event.composedPath().find(function (el) { return el.isSortable; });\n    }\n    while (element.isSortable !== true) {\n        element = element.parentElement;\n    }\n    return element;\n}\n/**\n * Dragging event is on the sortable element. finds the top child that\n * contains the element.\n * @param {HTMLElement} sortableElement a single sortable\n * @param {HTMLElement} element is that being dragged\n */\nfunction findDragElement(sortableElement, element) {\n    var options = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, options.items);\n    var itemlist = items.filter(function (ele) {\n        return ele.contains(element) || (ele.shadowRoot && ele.shadowRoot.contains(element));\n    });\n    return itemlist.length > 0 ? itemlist[0] : element;\n}\n/**\n * Destroy the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _destroySortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts') || {};\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    // remove event handlers & data from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'drop');\n    // remove event data from sortable\n    _removeSortableData(sortableElement);\n    // remove event handlers & data from items\n    removeEventListener(handles, 'mousedown');\n    _removeItemEvents(items);\n    _removeItemData(items);\n};\n/**\n * Enable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _enableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'move');\n    addData(sortableElement, '_disabled', 'false');\n    addAttribute(handles, 'draggable', 'true');\n    // @todo: remove this fix\n    // IE FIX for ghost\n    // can be disabled as it has the side effect that other events\n    // (e.g. click) will be ignored\n    if (opts.disableIEFix === false) {\n        var spanEl = (document || window.document).createElement('span');\n        if (typeof spanEl.dragDrop === 'function') {\n            addEventListener(handles, 'mousedown', function () {\n                if (items.indexOf(this) !== -1) {\n                    this.dragDrop();\n                }\n                else {\n                    var parent = this.parentElement;\n                    while (items.indexOf(parent) === -1) {\n                        parent = parent.parentElement;\n                    }\n                    parent.dragDrop();\n                }\n            });\n        }\n    }\n};\n/**\n * Disable the sortable\n * @param {HTMLElement} sortableElement a single sortable\n */\nvar _disableSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addAttribute(sortableElement, 'aria-dropeffect', 'none');\n    addData(sortableElement, '_disabled', 'true');\n    addAttribute(handles, 'draggable', 'false');\n    removeEventListener(handles, 'mousedown');\n};\n/**\n * Reload the sortable\n * @param {HTMLElement} sortableElement a single sortable\n * @description events need to be removed to not be double bound\n */\nvar _reloadSortable = function (sortableElement) {\n    var opts = addData(sortableElement, 'opts');\n    var items = _filter(sortableElement.children, opts.items);\n    var handles = _getHandles(items, opts.handle);\n    addData(sortableElement, '_disabled', 'false');\n    // remove event handlers from items\n    _removeItemEvents(items);\n    removeEventListener(handles, 'mousedown');\n    // remove event handlers from sortable\n    removeEventListener(sortableElement, 'dragover');\n    removeEventListener(sortableElement, 'dragenter');\n    removeEventListener(sortableElement, 'drop');\n};\n/**\n * Public sortable object\n * @param {Array|NodeList} sortableElements\n * @param {object|string} options|method\n */\nfunction sortable(sortableElements, options) {\n    // get method string to see if a method is called\n    var method = String(options);\n    options = options || {};\n    // check if the user provided a selector instead of an element\n    if (typeof sortableElements === 'string') {\n        sortableElements = document.querySelectorAll(sortableElements);\n    }\n    // if the user provided an element, return it in an array to keep the return value consistant\n    if (sortableElements instanceof HTMLElement) {\n        sortableElements = [sortableElements];\n    }\n    sortableElements = Array.prototype.slice.call(sortableElements);\n    if (/serialize/.test(method)) {\n        return sortableElements.map(function (sortableContainer) {\n            var opts = addData(sortableContainer, 'opts');\n            return _serialize(sortableContainer, opts.itemSerializer, opts.containerSerializer);\n        });\n    }\n    sortableElements.forEach(function (sortableElement) {\n        if (/enable|disable|destroy/.test(method)) {\n            return sortable[method](sortableElement);\n        }\n        // log deprecation\n        ['connectWith', 'disableIEFix'].forEach(function (configKey) {\n            if (options.hasOwnProperty(configKey) && options[configKey] !== null) {\n                console.warn(\"HTML5Sortable: You are using the deprecated configuration \\\"\" + configKey + \"\\\". This will be removed in an upcoming version, make sure to migrate to the new options when updating.\");\n            }\n        });\n        // merge options with default options\n        options = Object.assign({}, defaultConfiguration, store(sortableElement).config, options);\n        // init data store for sortable\n        store(sortableElement).config = options;\n        // set options on sortable\n        addData(sortableElement, 'opts', options);\n        // property to define as sortable\n        sortableElement.isSortable = true;\n        // reset sortable\n        _reloadSortable(sortableElement);\n        // initialize\n        var listItems = _filter(sortableElement.children, options.items);\n        // create element if user defined a placeholder element as a string\n        var customPlaceholder;\n        if (options.placeholder !== null && options.placeholder !== undefined) {\n            var tempContainer = document.createElement(sortableElement.tagName);\n            if (options.placeholder instanceof HTMLElement) {\n                tempContainer.appendChild(options.placeholder);\n            }\n            else {\n                tempContainer.innerHTML = options.placeholder;\n            }\n            customPlaceholder = tempContainer.children[0];\n        }\n        // add placeholder\n        store(sortableElement).placeholder = _makePlaceholder(sortableElement, customPlaceholder, options.placeholderClass);\n        addData(sortableElement, 'items', options.items);\n        if (options.acceptFrom) {\n            addData(sortableElement, 'acceptFrom', options.acceptFrom);\n        }\n        else if (options.connectWith) {\n            addData(sortableElement, 'connectWith', options.connectWith);\n        }\n        _enableSortable(sortableElement);\n        addAttribute(listItems, 'role', 'option');\n        addAttribute(listItems, 'aria-grabbed', 'false');\n        // enable hover class\n        enableHoverClass(sortableElement, true);\n        /*\n         Handle drag events on draggable items\n         Handle is set at the sortableElement level as it will bubble up\n         from the item\n         */\n        addEventListener(sortableElement, 'dragstart', function (e) {\n            // ignore dragstart events\n            var target = getEventTarget(e);\n            if (target.isSortable === true) {\n                return;\n            }\n            e.stopImmediatePropagation();\n            if ((options.handle && !target.matches(options.handle)) || target.getAttribute('draggable') === 'false') {\n                return;\n            }\n            var sortableContainer = findSortable(target, e);\n            var dragItem = findDragElement(sortableContainer, target);\n            // grab values\n            originItemsBeforeUpdate = _filter(sortableContainer.children, options.items);\n            originIndex = originItemsBeforeUpdate.indexOf(dragItem);\n            originElementIndex = _index(dragItem, sortableContainer.children);\n            originContainer = sortableContainer;\n            // add transparent clone or other ghost to cursor\n            setDragImage(e, dragItem, options.customDragImage);\n            // cache selsection & add attr for dragging\n            draggingHeight = _getElementHeight(dragItem);\n            dragItem.classList.add(options.draggingClass);\n            dragging = _getDragging(dragItem, sortableContainer);\n            addAttribute(dragging, 'aria-grabbed', 'true');\n            // dispatch sortstart event on each element in group\n            sortableContainer.dispatchEvent(new CustomEvent('sortstart', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging,\n                    originalTarget: target\n                }\n            }));\n        });\n        /*\n         We are capturing targetSortable before modifications with 'dragenter' event\n        */\n        addEventListener(sortableElement, 'dragenter', function (e) {\n            var target = getEventTarget(e);\n            var sortableContainer = findSortable(target, e);\n            if (sortableContainer && sortableContainer !== previousContainer) {\n                destinationItemsBeforeUpdate = _filter(sortableContainer.children, addData(sortableContainer, 'items'))\n                    .filter(function (item) { return item !== store(sortableElement).placeholder; });\n                sortableContainer.dispatchEvent(new CustomEvent('sortenter', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer\n                        },\n                        destination: {\n                            container: sortableContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate\n                        },\n                        item: dragging,\n                        originalTarget: target\n                    }\n                }));\n            }\n            previousContainer = sortableContainer;\n        });\n        /*\n         * Dragend Event - https://developer.mozilla.org/en-US/docs/Web/Events/dragend\n         * Fires each time dragEvent end, or ESC pressed\n         * We are using it to clean up any draggable elements and placeholders\n         */\n        addEventListener(sortableElement, 'dragend', function (e) {\n            if (!dragging) {\n                return;\n            }\n            dragging.classList.remove(options.draggingClass);\n            addAttribute(dragging, 'aria-grabbed', 'false');\n            if (dragging.getAttribute('aria-copied') === 'true' && addData(dragging, 'dropped') !== 'true') {\n                dragging.remove();\n            }\n            dragging.style.display = dragging.oldDisplay;\n            delete dragging.oldDisplay;\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) { return data.placeholder; })\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                .filter(isInDom)[0];\n            if (visiblePlaceholder) {\n                visiblePlaceholder.remove();\n            }\n            // dispatch sortstart event on each element in group\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            previousContainer = null;\n            dragging = null;\n            draggingHeight = null;\n        });\n        /*\n         * Drop Event - https://developer.mozilla.org/en-US/docs/Web/Events/drop\n         * Fires when valid drop target area is hit\n         */\n        addEventListener(sortableElement, 'drop', function (e) {\n            if (!_listsConnected(sortableElement, dragging.parentElement)) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            addData(dragging, 'dropped', 'true');\n            // get the one placeholder that is currently visible\n            var visiblePlaceholder = Array.from(stores.values()).map(function (data) {\n                return data.placeholder;\n            })\n                // filter only HTMLElements\n                .filter(function (placeholder) { return placeholder instanceof HTMLElement; })\n                // filter only elements in DOM\n                .filter(isInDom)[0];\n            // attach element after placeholder\n            insertAfter(visiblePlaceholder, dragging);\n            // remove placeholder from dom\n            visiblePlaceholder.remove();\n            /*\n             * Fires Custom Event - 'sortstop'\n             */\n            sortableElement.dispatchEvent(new CustomEvent('sortstop', {\n                detail: {\n                    origin: {\n                        elementIndex: originElementIndex,\n                        index: originIndex,\n                        container: originContainer\n                    },\n                    item: dragging\n                }\n            }));\n            var placeholder = store(sortableElement).placeholder;\n            var originItems = _filter(originContainer.children, options.items)\n                .filter(function (item) { return item !== placeholder; });\n            var destinationContainer = this.isSortable === true ? this : this.parentElement;\n            var destinationItems = _filter(destinationContainer.children, addData(destinationContainer, 'items'))\n                .filter(function (item) { return item !== placeholder; });\n            var destinationElementIndex = _index(dragging, Array.from(dragging.parentElement.children)\n                .filter(function (item) { return item !== placeholder; }));\n            var destinationIndex = _index(dragging, destinationItems);\n            /*\n             * When a list item changed container lists or index within a list\n             * Fires Custom Event - 'sortupdate'\n             */\n            if (originElementIndex !== destinationElementIndex || originContainer !== destinationContainer) {\n                sortableElement.dispatchEvent(new CustomEvent('sortupdate', {\n                    detail: {\n                        origin: {\n                            elementIndex: originElementIndex,\n                            index: originIndex,\n                            container: originContainer,\n                            itemsBeforeUpdate: originItemsBeforeUpdate,\n                            items: originItems\n                        },\n                        destination: {\n                            index: destinationIndex,\n                            elementIndex: destinationElementIndex,\n                            container: destinationContainer,\n                            itemsBeforeUpdate: destinationItemsBeforeUpdate,\n                            items: destinationItems\n                        },\n                        item: dragging\n                    }\n                }));\n            }\n        });\n        var debouncedDragOverEnter = _debounce(function (sortableElement, element, pageY) {\n            if (!dragging) {\n                return;\n            }\n            // set placeholder height if forcePlaceholderSize option is set\n            if (options.forcePlaceholderSize) {\n                store(sortableElement).placeholder.style.height = draggingHeight + 'px';\n            }\n            // if element the draggedItem is dragged onto is within the array of all elements in list\n            // (not only items, but also disabled, etc.)\n            if (Array.from(sortableElement.children).indexOf(element) > -1) {\n                var thisHeight = _getElementHeight(element);\n                var placeholderIndex = _index(store(sortableElement).placeholder, element.parentElement.children);\n                var thisIndex = _index(element, element.parentElement.children);\n                // Check if `element` is bigger than the draggable. If it is, we have to define a dead zone to prevent flickering\n                if (thisHeight > draggingHeight) {\n                    // Dead zone?\n                    var deadZone = thisHeight - draggingHeight;\n                    var offsetTop = _offset(element).top;\n                    if (placeholderIndex < thisIndex && pageY < offsetTop) {\n                        return;\n                    }\n                    if (placeholderIndex > thisIndex &&\n                        pageY > offsetTop + thisHeight - deadZone) {\n                        return;\n                    }\n                }\n                if (dragging.oldDisplay === undefined) {\n                    dragging.oldDisplay = dragging.style.display;\n                }\n                if (dragging.style.display !== 'none') {\n                    dragging.style.display = 'none';\n                }\n                // To avoid flicker, determine where to position the placeholder\n                // based on where the mouse pointer is relative to the elements\n                // vertical center.\n                var placeAfter = false;\n                try {\n                    var elementMiddle = _offset(element).top + element.offsetHeight / 2;\n                    placeAfter = pageY >= elementMiddle;\n                }\n                catch (e) {\n                    placeAfter = placeholderIndex < thisIndex;\n                }\n                if (placeAfter) {\n                    insertAfter(element, store(sortableElement).placeholder);\n                }\n                else {\n                    insertBefore(element, store(sortableElement).placeholder);\n                }\n                // get placeholders from all stores & remove all but current one\n                Array.from(stores.values())\n                    // remove empty values\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    // foreach placeholder in array if outside of current sorableContainer -> remove from DOM\n                    .forEach(function (data) {\n                    if (data.placeholder !== store(sortableElement).placeholder) {\n                        data.placeholder.remove();\n                    }\n                });\n            }\n            else {\n                // get all placeholders from store\n                var placeholders = Array.from(stores.values())\n                    .filter(function (data) { return data.placeholder !== undefined; })\n                    .map(function (data) {\n                    return data.placeholder;\n                });\n                // check if element is not in placeholders\n                if (placeholders.indexOf(element) === -1 && sortableElement === element && !_filter(element.children, options.items).length) {\n                    placeholders.forEach(function (element) { return element.remove(); });\n                    element.appendChild(store(sortableElement).placeholder);\n                }\n            }\n        }, options.debounce);\n        // Handle dragover and dragenter events on draggable items\n        var onDragOverEnter = function (e) {\n            var element = e.target;\n            var sortableElement = element.isSortable === true ? element : findSortable(element, e);\n            element = findDragElement(sortableElement, element);\n            if (!dragging || !_listsConnected(sortableElement, dragging.parentElement) || addData(sortableElement, '_disabled') === 'true') {\n                return;\n            }\n            var options = addData(sortableElement, 'opts');\n            if (parseInt(options.maxItems) && _filter(sortableElement.children, addData(sortableElement, 'items')).length >= parseInt(options.maxItems) && dragging.parentElement !== sortableElement) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            e.dataTransfer.dropEffect = store(sortableElement).getConfig('copy') === true ? 'copy' : 'move';\n            debouncedDragOverEnter(sortableElement, element, e.pageY);\n        };\n        addEventListener(listItems.concat(sortableElement), 'dragover', onDragOverEnter);\n        addEventListener(listItems.concat(sortableElement), 'dragenter', onDragOverEnter);\n    });\n    return sortableElements;\n}\nsortable.destroy = function (sortableElement) {\n    _destroySortable(sortableElement);\n};\nsortable.enable = function (sortableElement) {\n    _enableSortable(sortableElement);\n};\nsortable.disable = function (sortableElement) {\n    _disableSortable(sortableElement);\n};\n/* START.TESTS_ONLY */\nsortable.__testing = {\n    // add internal methods here for testing purposes\n    _data: addData,\n    _removeItemEvents: _removeItemEvents,\n    _removeItemData: _removeItemData,\n    _removeSortableData: _removeSortableData\n};\n\nexport default sortable;\n","import { extend } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\nimport SettingDropdown from 'flarum/components/SettingDropdown';\n\nexport default function() {\n  extend(PermissionGrid.prototype, 'startItems', items => {\n    items.add('allowTagChange', {\n      icon: 'fas fa-tag',\n      label: app.translator.trans('flarum-tags.admin.permissions.allow_edit_tags_label'),\n      setting: () => {\n        const minutes = parseInt(app.data.settings.allow_tag_change, 10);\n\n        return SettingDropdown.component({\n          defaultLabel: minutes\n            ? app.translator.transChoice('core.admin.permissions_controls.allow_some_minutes_button', minutes, {count: minutes})\n            : app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button'),\n          key: 'allow_tag_change',\n          options: [\n            {value: '-1', label: app.translator.trans('core.admin.permissions_controls.allow_indefinitely_button')},\n            {value: '10', label: app.translator.trans('core.admin.permissions_controls.allow_ten_minutes_button')},\n            {value: 'reply', label: app.translator.trans('core.admin.permissions_controls.allow_until_reply_button')}\n          ]\n        });\n      }\n    }, 90);\n  });\n}\n","import { extend } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\n\nexport default function() {\n  extend(PermissionGrid.prototype, 'moderateItems', items => {\n    items.add('tag', {\n      icon: 'fas fa-tag',\n      label: app.translator.trans('flarum-tags.admin.permissions.tag_discussions_label'),\n      permission: 'discussion.tag'\n    }, 95);\n  });\n}\n","import { extend } from 'flarum/extend';\nimport BasicsPage from 'flarum/components/BasicsPage';\n\nexport default function() {\n  extend(BasicsPage.prototype, 'homePageItems', items => {\n    items.add('tags', {\n      path: '/tags',\n      label: app.translator.trans('flarum-tags.admin.basics.tags_label')\n    });\n  });\n}\n","import { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\n\nimport TagsPage from './components/TagsPage';\n\nexport default function() {\n  app.routes.tags = {path: '/tags', component: TagsPage.component()};\n\n  app.extensionSettings['flarum-tags'] = () => m.route(app.route('tags'));\n\n  extend(AdminNav.prototype, 'items', items => {\n    items.add('tags', AdminLinkButton.component({\n      href: app.route('tags'),\n      icon: 'fas fa-tags',\n      children: app.translator.trans('flarum-tags.admin.nav.tags_button'),\n      description: app.translator.trans('flarum-tags.admin.nav.tags_text')\n    }));\n  });\n}\n","import { extend, override } from 'flarum/extend';\nimport PermissionGrid from 'flarum/components/PermissionGrid';\nimport PermissionDropdown from 'flarum/components/PermissionDropdown';\nimport Dropdown from 'flarum/components/Dropdown';\nimport Button from 'flarum/components/Button';\n\nimport tagLabel from '../common/helpers/tagLabel';\nimport tagIcon from '../common/helpers/tagIcon';\nimport sortTags from '../common/utils/sortTags';\n\nexport default function() {\n  override(app, 'getRequiredPermissions', (original, permission) => {\n    const tagPrefix = permission.match(/^tag\\d+\\./);\n\n    if (tagPrefix) {\n      const globalPermission = permission.substr(tagPrefix[0].length);\n\n      const required = original(globalPermission);\n\n      return required.map(required => tagPrefix[0] + required);\n    }\n\n    return original(permission);\n  });\n\n  extend(PermissionGrid.prototype, 'scopeItems', items => {\n    sortTags(app.store.all('tags'))\n      .filter(tag => tag.isRestricted())\n      .forEach(tag => items.add('tag' + tag.id(), {\n        label: tagLabel(tag),\n        onremove: () => tag.save({isRestricted: false}),\n        render: item => {\n          if (item.permission === 'viewDiscussions'\n            || item.permission === 'startDiscussion'\n            || (item.permission && item.permission.indexOf('discussion.') === 0)) {\n            return PermissionDropdown.component({\n              permission: 'tag' + tag.id() + '.' + item.permission,\n              allowGuest: item.allowGuest\n            });\n          }\n\n          return '';\n        }\n      }));\n  });\n\n  extend(PermissionGrid.prototype, 'scopeControlItems', items => {\n    const tags = sortTags(app.store.all('tags').filter(tag => !tag.isRestricted()));\n\n    if (tags.length) {\n      items.add('tag', Dropdown.component({\n        className: 'Dropdown--restrictByTag',\n        buttonClassName: 'Button Button--text',\n        label: app.translator.trans('flarum-tags.admin.permissions.restrict_by_tag_heading'),\n        icon: 'fas fa-plus',\n        caretIcon: null,\n        children: tags.map(tag => Button.component({\n          icon: true,\n          children: [tagIcon(tag, {className: 'Button-icon'}), ' ', tag.name()],\n          onclick: () => tag.save({isRestricted: true})\n        }))\n      }));\n    }\n  });\n}\n","import compat from '../common/compat';\n\nimport addTagsHomePageOption from './addTagsHomePageOption';\nimport addTagChangePermission from './addTagChangePermission';\nimport addTagsPane from './addTagsPane';\nimport TagSettingsModal from './components/TagSettingsModal';\nimport TagsPage from './components/TagsPage';\nimport EditTagModal from './components/EditTagModal';\nimport addTagPermission from './addTagPermission';\nimport addTagsPermissionScope from './addTagsPermissionScope';\n\nexport default Object.assign(compat, {\n  'tags/addTagsHomePageOption': addTagsHomePageOption,\n  'tags/addTagChangePermission': addTagChangePermission,\n  'tags/addTagsPane': addTagsPane,\n  'tags/components/TagSettingsModal': TagSettingsModal,\n  'tags/components/TagsPage': TagsPage,\n  'tags/components/EditTagModal': EditTagModal,\n  'tags/addTagPermission': addTagPermission,\n  'tags/addTagsPermissionScope': addTagsPermissionScope,\n});\n","import Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\nimport ItemList from 'flarum/utils/ItemList';\nimport { slug } from 'flarum/utils/string';\n\nimport tagLabel from '../../common/helpers/tagLabel';\n\n/**\n * The `EditTagModal` component shows a modal dialog which allows the user\n * to create or edit a tag.\n */\nexport default class EditTagModal extends Modal {\n  init() {\n    super.init();\n\n    this.tag = this.props.tag || app.store.createRecord('tags');\n\n    this.name = m.prop(this.tag.name() || '');\n    this.slug = m.prop(this.tag.slug() || '');\n    this.description = m.prop(this.tag.description() || '');\n    this.color = m.prop(this.tag.color() || '');\n    this.icon = m.prop(this.tag.icon() || '');\n    this.isHidden = m.prop(this.tag.isHidden() || false);\n  }\n\n  className() {\n    return 'EditTagModal Modal--small';\n  }\n\n  title() {\n    return this.name()\n      ? tagLabel({\n        name: this.name,\n        color: this.color,\n        icon: this.icon,\n      })\n      : app.translator.trans('flarum-tags.admin.edit_tag.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          {this.fields().toArray()}\n        </div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add('name', <div className=\"Form-group\">\n      <label>{app.translator.trans('flarum-tags.admin.edit_tag.name_label')}</label>\n      <input className=\"FormControl\" placeholder={app.translator.trans('flarum-tags.admin.edit_tag.name_placeholder')} value={this.name()} oninput={e => {\n        this.name(e.target.value);\n        this.slug(slug(e.target.value));\n      }}/>\n    </div>, 50);\n\n    items.add('slug', <div className=\"Form-group\">\n      <label>{app.translator.trans('flarum-tags.admin.edit_tag.slug_label')}</label>\n      <input className=\"FormControl\" value={this.slug()} oninput={m.withAttr('value', this.slug)}/>\n    </div>, 40);\n\n    items.add('description', <div className=\"Form-group\">\n      <label>{app.translator.trans('flarum-tags.admin.edit_tag.description_label')}</label>\n      <textarea className=\"FormControl\" value={this.description()} oninput={m.withAttr('value', this.description)}/>\n    </div>, 30);\n\n    items.add('color', <div className=\"Form-group\">\n      <label>{app.translator.trans('flarum-tags.admin.edit_tag.color_label')}</label>\n      <input className=\"FormControl\" placeholder=\"#aaaaaa\" value={this.color()} oninput={m.withAttr('value', this.color)}/>\n    </div>, 20);\n\n    items.add('icon', <div className=\"Form-group\">\n      <label>{app.translator.trans('flarum-tags.admin.edit_tag.icon_label')}</label>\n      <div className=\"helpText\">\n        {app.translator.trans('flarum-tags.admin.edit_tag.icon_text', {a: <a href=\"https://fontawesome.com/icons?m=free\" tabindex=\"-1\"/>})}\n      </div>\n      <input className=\"FormControl\" placeholder=\"fas fa-bolt\" value={this.icon()} oninput={m.withAttr('value', this.icon)}/>\n    </div>, 10);\n\n    items.add('hidden', <div className=\"Form-group\">\n      <div>\n        <label className=\"checkbox\">\n          <input type=\"checkbox\" value=\"1\" checked={this.isHidden()} onchange={m.withAttr('checked', this.isHidden)}/>\n          {app.translator.trans('flarum-tags.admin.edit_tag.hide_label')}\n        </label>\n      </div>\n    </div>, 10);\n\n    items.add('submit', <div className=\"Form-group\">\n      {Button.component({\n        type: 'submit',\n        className: 'Button Button--primary EditTagModal-save',\n        loading: this.loading,\n        children: app.translator.trans('flarum-tags.admin.edit_tag.submit_button')\n      })}\n      {this.tag.exists ? (\n        <button type=\"button\" className=\"Button EditTagModal-delete\" onclick={this.delete.bind(this)}>\n          {app.translator.trans('flarum-tags.admin.edit_tag.delete_tag_button')}\n        </button>\n      ) : ''}\n    </div>, -10);\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      name: this.name(),\n      slug: this.slug(),\n      description: this.description(),\n      color: this.color(),\n      icon: this.icon(),\n      isHidden: this.isHidden()\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.tag.save(this.submitData()).then(\n      () => this.hide(),\n      response => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n\n  delete() {\n    if (confirm(app.translator.trans('flarum-tags.admin.edit_tag.delete_tag_confirmation'))) {\n      const children = app.store.all('tags').filter(tag => tag.parent() === this.tag);\n\n      this.tag.delete().then(() => {\n        children.forEach(tag => tag.pushData({\n          attributes: {isChild: false},\n          relationships: {parent: null}\n        }));\n        m.redraw();\n      });\n\n      this.hide();\n    }\n  }\n}\n","import SettingsModal from 'flarum/components/SettingsModal';\n\nexport default class TagSettingsModal extends SettingsModal {\n  setMinTags(minTags, maxTags, value) {\n    minTags(value);\n    maxTags(Math.max(value, maxTags()));\n  }\n\n  className() {\n    return 'TagSettingsModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans('flarum-tags.admin.tag_settings.title');\n  }\n\n  form() {\n    const minPrimaryTags = this.setting('flarum-tags.min_primary_tags', 0);\n    const maxPrimaryTags = this.setting('flarum-tags.max_primary_tags', 0);\n\n    const minSecondaryTags = this.setting('flarum-tags.min_secondary_tags', 0);\n    const maxSecondaryTags = this.setting('flarum-tags.max_secondary_tags', 0);\n\n    return [\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('flarum-tags.admin.tag_settings.required_primary_heading')}</label>\n        <div className=\"helpText\">\n          {app.translator.trans('flarum-tags.admin.tag_settings.required_primary_text')}\n        </div>\n        <div className=\"TagSettingsModal-rangeInput\">\n          <input className=\"FormControl\"\n            type=\"number\"\n            min=\"0\"\n            value={minPrimaryTags()}\n            oninput={m.withAttr('value', this.setMinTags.bind(this, minPrimaryTags, maxPrimaryTags))} />\n          {app.translator.trans('flarum-tags.admin.tag_settings.range_separator_text')}\n          <input className=\"FormControl\"\n            type=\"number\"\n            min={minPrimaryTags()}\n            bidi={maxPrimaryTags} />\n        </div>\n      </div>,\n\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('flarum-tags.admin.tag_settings.required_secondary_heading')}</label>\n        <div className=\"helpText\">\n          {app.translator.trans('flarum-tags.admin.tag_settings.required_secondary_text')}\n        </div>\n        <div className=\"TagSettingsModal-rangeInput\">\n          <input className=\"FormControl\"\n            type=\"number\"\n            min=\"0\"\n            value={minSecondaryTags()}\n            oninput={m.withAttr('value', this.setMinTags.bind(this, minSecondaryTags, maxSecondaryTags))} />\n          {app.translator.trans('flarum-tags.admin.tag_settings.range_separator_text')}\n          <input className=\"FormControl\"\n            type=\"number\"\n            min={minSecondaryTags()}\n            bidi={maxSecondaryTags} />\n        </div>\n      </div>\n    ];\n  }\n}\n","import sortable from 'html5sortable/dist/html5sortable.es.js';\n\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\n\nimport EditTagModal from './EditTagModal';\nimport TagSettingsModal from './TagSettingsModal';\nimport tagIcon from '../../common/helpers/tagIcon';\nimport sortTags from '../../common/utils/sortTags';\n\nfunction tagItem(tag) {\n  return (\n    <li data-id={tag.id()} style={{color: tag.color()}}>\n      <div className=\"TagListItem-info\">\n        {tagIcon(tag)}\n        <span className=\"TagListItem-name\">{tag.name()}</span>\n        {Button.component({\n          className: 'Button Button--link',\n          icon: 'fas fa-pencil-alt',\n          onclick: () => app.modal.show(new EditTagModal({tag}))\n        })}\n      </div>\n      {!tag.isChild() && tag.position() !== null ? (\n        <ol className=\"TagListItem-children\">\n          {sortTags(app.store.all('tags'))\n            .filter(child => child.parent() === tag)\n            .map(tagItem)}\n        </ol>\n      ) : ''}\n    </li>\n  );\n}\n\nexport default class TagsPage extends Page {\n  view() {\n    return (\n      <div className=\"TagsPage\">\n        <div className=\"TagsPage-header\">\n          <div className=\"container\">\n            <p>\n              {app.translator.trans('flarum-tags.admin.tags.about_tags_text')}\n            </p>\n            {Button.component({\n              className: 'Button Button--primary',\n              icon: 'fas fa-plus',\n              children: app.translator.trans('flarum-tags.admin.tags.create_tag_button'),\n              onclick: () => app.modal.show(new EditTagModal())\n            })}\n            {Button.component({\n              className: 'Button',\n              children: app.translator.trans('flarum-tags.admin.tags.settings_button'),\n              onclick: () => app.modal.show(new TagSettingsModal())\n            })}\n          </div>\n        </div>\n        <div className=\"TagsPage-list\">\n          <div className=\"container\">\n            <div className=\"TagGroup\">\n              <label>{app.translator.trans('flarum-tags.admin.tags.primary_heading')}</label>\n              <ol className=\"TagList TagList--primary\">\n                {sortTags(app.store.all('tags'))\n                  .filter(tag => tag.position() !== null && !tag.isChild())\n                  .map(tagItem)}\n              </ol>\n            </div>\n\n            <div className=\"TagGroup\">\n              <label>{app.translator.trans('flarum-tags.admin.tags.secondary_heading')}</label>\n              <ul className=\"TagList\">\n                {app.store.all('tags')\n                  .filter(tag => tag.position() === null)\n                  .sort((a, b) => a.name().localeCompare(b.name()))\n                  .map(tagItem)}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  config() {\n    sortable(this.$('ol, ul'), {\n      acceptFrom: 'ol,ul'\n    }).forEach(this.onSortUpdate.bind(this));\n  }\n\n  onSortUpdate(el) {\n    el.addEventListener('sortupdate', (e) => {\n      // If we've moved a tag from 'primary' to 'secondary', then we'll update\n      // its attributes in our local store so that when we redraw the change\n      // will be made.\n      if (e.detail.origin.container instanceof HTMLOListElement && e.detail.destination.container instanceof HTMLUListElement) {\n        app.store.getById('tags', e.detail.item.getAttribute('data-id')).pushData({\n          attributes: {\n            position: null,\n            isChild: false\n          },\n          relationships: {parent: null}\n        });\n      }\n\n      // Construct an array of primary tag IDs and their children, in the same\n      // order that they have been arranged in.\n      const order = this.$('.TagList--primary > li')\n        .map(function() {\n          return {\n            id: $(this).data('id'),\n            children: $(this).find('li')\n              .map(function() {\n                return $(this).data('id');\n              }).get()\n          };\n        }).get();\n\n      // Now that we have an accurate representation of the order which the\n      // primary tags are in, we will update the tag attributes in our local\n      // store to reflect this order.\n      order.forEach((tag, i) => {\n        const parent = app.store.getById('tags', tag.id);\n        parent.pushData({\n          attributes: {\n            position: i,\n            isChild: false\n          },\n          relationships: {parent: null}\n        });\n\n        tag.children.forEach((child, j) => {\n          app.store.getById('tags', child).pushData({\n            attributes: {\n              position: j,\n              isChild: true\n            },\n            relationships: {parent}\n          });\n        });\n      });\n\n      app.request({\n        url: app.forum.attribute('apiUrl') + '/tags/order',\n        method: 'POST',\n        data: {order}\n      });\n\n      // A diff redraw won't work here, because sortable has mucked around\n      // with the DOM which will confuse Mithril's diffing algorithm. Instead\n      // we force a full reconstruction of the DOM.\n      m.redraw.strategy('all');\n      m.redraw();\n    });\n  }\n}\n","import Tag from '../common/models/Tag';\nimport addTagsPermissionScope from './addTagsPermissionScope';\nimport addTagPermission from './addTagPermission';\nimport addTagsPane from './addTagsPane';\nimport addTagsHomePageOption from './addTagsHomePageOption';\nimport addTagChangePermission from './addTagChangePermission';\n\napp.initializers.add('flarum-tags', app => {\n  app.store.models.tags = Tag;\n\n  addTagsPermissionScope();\n  addTagPermission();\n  addTagsPane();\n  addTagsHomePageOption();\n  addTagChangePermission();\n});\n\n\n// Expose compat API\nimport tagsCompat from './compat';\nimport { compat } from '@flarum/core/admin';\n\nObject.assign(compat, tagsCompat);\n","import sortTags from './utils/sortTags';\nimport Tag from './models/Tag';\nimport tagsLabel from './helpers/tagsLabel';\nimport tagIcon from './helpers/tagIcon';\nimport tagLabel from './helpers/tagLabel';\n\nexport default {\n  'tags/utils/sortTags': sortTags,\n  'tags/models/Tag': Tag,\n  'tags/helpers/tagsLabel': tagsLabel,\n  'tags/helpers/tagIcon': tagIcon,\n  'tags/helpers/tagLabel': tagLabel\n};\n","export default function tagIcon(tag, attrs = {}, settings = {}) {\n  const hasIcon = tag && tag.icon();\n  const { useColor = true } = settings;\n\n  attrs.className = hasIcon ? 'icon ' + tag.icon() + ' ' + (attrs.className || '') : 'icon TagIcon ' + (attrs.className || '');\n\n  if (tag) {\n    attrs.style = attrs.style || {};\n\n    if (hasIcon) {\n      attrs.style.color = useColor ? tag.color() : '';\n    } else {\n      attrs.style.backgroundColor = tag.color();\n    }\n\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return hasIcon ? <i {...attrs}/> : <span {...attrs}/>;\n}\n","import extract from 'flarum/utils/extract';\nimport tagIcon from './tagIcon';\n\nexport default function tagLabel(tag, attrs = {}) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'TagLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n  const tagText = tag ? tag.name() : app.translator.trans('flarum-tags.lib.deleted_tag_text');\n\n  if (tag) {\n    const color = tag.color();\n    if (color) {\n      attrs.style.backgroundColor = attrs.style.color = color;\n      attrs.className += ' colored';\n    }\n\n    if (link) {\n      attrs.title = tag.description() || '';\n      attrs.href = app.route('tag', {tags: tag.slug()});\n      attrs.config = m.route;\n    }\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  return (\n    m((link ? 'a' : 'span'), attrs,\n      <span className=\"TagLabel-text\">\n        {tag && tag.icon() && tagIcon(tag, {}, {useColor: false})} {tagText}\n      </span>\n    )\n  );\n}\n","import extract from 'flarum/utils/extract';\nimport tagLabel from './tagLabel';\nimport sortTags from '../utils/sortTags';\n\nexport default function tagsLabel(tags, attrs = {}) {\n  const children = [];\n  const link = extract(attrs, 'link');\n\n  attrs.className = 'TagsLabel ' + (attrs.className || '');\n\n  if (tags) {\n    sortTags(tags).forEach(tag => {\n      if (tag || tags.length === 1) {\n        children.push(tagLabel(tag, {link}));\n      }\n    });\n  } else {\n    children.push(tagLabel());\n  }\n\n  return <span {...attrs}>{children}</span>;\n}\n","import Model from 'flarum/Model';\nimport mixin from 'flarum/utils/mixin';\nimport computed from 'flarum/utils/computed';\n\nexport default class Tag extends mixin(Model, {\n  name: Model.attribute('name'),\n  slug: Model.attribute('slug'),\n  description: Model.attribute('description'),\n\n  color: Model.attribute('color'),\n  backgroundUrl: Model.attribute('backgroundUrl'),\n  backgroundMode: Model.attribute('backgroundMode'),\n  icon: Model.attribute('icon'),\n\n  position: Model.attribute('position'),\n  parent: Model.hasOne('parent'),\n  defaultSort: Model.attribute('defaultSort'),\n  isChild: Model.attribute('isChild'),\n  isHidden: Model.attribute('isHidden'),\n\n  discussionCount: Model.attribute('discussionCount'),\n  lastPostedAt: Model.attribute('lastPostedAt', Model.transformDate),\n  lastPostedDiscussion: Model.hasOne('lastPostedDiscussion'),\n\n  isRestricted: Model.attribute('isRestricted'),\n  canStartDiscussion: Model.attribute('canStartDiscussion'),\n  canAddToDiscussion: Model.attribute('canAddToDiscussion'),\n\n  isPrimary: computed('position', 'parent', (position, parent) => position !== null && parent === false)\n}) {}\n","export default function sortTags(tags) {\n  return tags.slice(0).sort((a, b) => {\n    const aPos = a.position();\n    const bPos = b.position();\n\n    // If they're both secondary tags, sort them by their discussions count,\n    // descending.\n    if (aPos === null && bPos === null)\n      return b.discussionCount() - a.discussionCount();\n\n    // If just one is a secondary tag, then the primary tag should\n    // come first.\n    if (bPos === null) return -1;\n    if (aPos === null) return 1;\n\n    // If we've made it this far, we know they're both primary tags. So we'll\n    // need to see if they have parents.\n    const aParent = a.parent();\n    const bParent = b.parent();\n\n    // If they both have the same parent, then their positions are local,\n    // so we can compare them directly.\n    if (aParent === bParent) return aPos - bPos;\n\n    // If they are both child tags, then we will compare the positions of their\n    // parents.\n    else if (aParent && bParent)\n      return aParent.position() - bParent.position();\n\n    // If we are comparing a child tag with its parent, then we let the parent\n    // come first. If we are comparing an unrelated parent/child, then we\n    // compare both of the parents.\n    else if (aParent)\n      return aParent === b ? 1 : aParent.position() - bPos;\n\n    else if (bParent)\n      return bParent === a ? -1 : aPos - bParent.position();\n\n    return 0;\n  });\n}\n","module.exports = flarum.core;","module.exports = flarum.core.compat['Model'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/BasicsPage'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/Dropdown'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/PermissionDropdown'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['components/SettingDropdown'];","module.exports = flarum.core.compat['components/SettingsModal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/computed'];","module.exports = flarum.core.compat['utils/extract'];","module.exports = flarum.core.compat['utils/mixin'];","module.exports = flarum.core.compat['utils/string'];"],"sourceRoot":""}